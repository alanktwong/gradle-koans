import java.nio.file.Paths
import groovy.io.FileType
import groovy.io.FileVisitResult

rootProject.name = 'gradle-koans'

new File('.').traverse(
    type: FileType.DIRECTORIES,
    preDir: { if (it.name ==~ /\..*/) return FileVisitResult.SKIP_SUBTREE },
    excludeNameFilter: ~/\..*/,
    nameFilter: ~/[0-9].*/
) {
    def subproject = it.path.replaceAll('\\./', '')
    def subprojectPath = Paths.get('.').resolve(subproject)
    def subprojectName = subprojectPath.fileName.toString()
    include subprojectName
}
